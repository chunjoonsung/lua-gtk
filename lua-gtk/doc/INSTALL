

Installation Instructions for Linux
===================================

My system is Debian/testing, where most of the required libraries are available
as packages.  Prerequisites:

  - Gtk2 (tested with 2.6.8, 2.8.16, 2.10.13) with devel files
  - libffi
  - lua5.1, liblua-bit, liblua5.1-expat
  - cmph (optional, at http://sf.net/projects/cmph)
  - gccxml
  - gcc, binutils, make, ...
  - lua sockets - required for the http/ftp etc. library

Package names in Debian:

	libgtk2.0-dev
	libffi4-dev
	liblua5.1-0-dev
	liblua5.1-expat0
	liblua5.1-socket-dev
	gccxml
	gcc
	make


About the optional cmph library
-------------------------------

  This library can compute a minimal perfect hash function, which means that
for a given set of keys, each key is mapped to an integer in the range 0 to
n-1, n being the number of keys.  There are no hash collisions and no unused
slots.

  At runtime, cmph is not required.

  If this library is not available at build time, a simple hash method is used
instead.  There is probably little runtime difference, both size and speed
wise, although I suppose the cmph generated hash will be faster.



Procedure
---------

 - edit Makefile.linux to suit your installation.  This is NOT an autoconf
   generated file.  Not many options are useful to change.
 - run make
 - run make install (as root)

Now you should be ready to run the example scripts:

$ lua -w examples/button.lua
$ lua -w examples/pixmap.lua



Installation Instructions for MingW32
=====================================

To build this package for Win32 please use MingW32.  The resulting binaries run
on native Windows, too.  In other words, the build process is under Linux.
Therefore, install the mingw32 build environment, e.g. for Debian, try
"apt-get install mingw32".


Step 1
------

Download the latest Windows binaries from luaforge.net (project LuaBinaries
[1]), and unpack into the directory mingw/lua5.1.


Step 2
------

Download the latest Gtk+2 Runtime Environment for Windows [2] and install it
on a Windows box.  Copy the following DLLs from wherever they are (e.g. [3])
to mingw/gtk:

	libgtk-win32-2.0-0.dll
	libgdk-win32-2.0-0.dll
	libgobject-2.0-0.dll
	libglib-2.0-0.dll
	libgdk_pixbuf-2.0-0.dll


Step 3
------

Run the Makefile like this:

	make -f Makefile.win32

This builds the file build-win32/gtk.dll.  To obtain a ZIP file with all the
required files, do this:

	make -f Makefile.win32 zip

This will create the tree /tmp/lua-gtk-$(VERSION), along with a suitable
ZIP file.  Copy that to the windows box, and try it out.



[1] http://luabinaries.luaforge.net/packaging.html,
    http://luabinaries.luaforge.net/download.html
    The file to get is lua...._Win32_bin.zip

[2] http://gimp-win.sourceforge.net/stable.html

[3] C:\Programme\Gemeinsame Dateien\GTK\2.0\bin

